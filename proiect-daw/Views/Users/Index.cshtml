@* Motorul de cautare *@
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
        color: #333;
        margin: 0;
        padding: 0;
    }

    .container {
        padding: 20px;
    }

    .card {
        border: 1px solid #ddd;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

    .card-body {
        padding: 15px;
    }

    a {
        text-decoration: none;
        color: inherit;
        transition: color 0.3s ease, transform 0.3s ease;
    }

        a:hover {
            color: #007bff;
            transform: scale(1.05);
        }

    .profile-img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-bottom: 1px solid #ddd;
    }

    .btn {
        margin-top: 10px;
    }
</style>

<div class="container">
    <form method="GET">
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Search user" name="search"
                   value="@ViewBag.SearchString">
            <button class="btn btn-outline-success" type="submit">Search</button>
        </div>
    </form>

    @if (ViewBag.SearchedUsersList != null)
    {
        <div class="row">
            @foreach (var searched_user in ViewBag.SearchedUsersList)
            {
                <div class="col-12 col-md-6 col-lg-4 mb-4">
                    <div class="card">
                        <img src="@searched_user.ProfilePhoto" alt="Profile Image" class="profile-img">
                        <div class="card-body">
                            <p><strong>@searched_user.UserName</strong></p>
                            @if (searched_user.PrivateProfile)
                            {
                                <p>@searched_user.ProfileDescription</p>
                            }
                            else
                            {
                                <p>Email: @searched_user.Email</p>
                            }

                            @if (User.IsInRole("Admin"))
                            {
                                <a asp-controller="Users" asp-action="Edit" asp-route-id="@searched_user.Id" class="btn btn-sm btn-success">Edit User</a>
                            }
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    else
    {
        <h2>All Platform Users</h2>
        <div class="row">
            @foreach (var user in ViewBag.UsersList)
            {
                <div class="col-12 col-md-6 col-lg-4 mb-4">
                    <div class="card">
                        <a asp-controller="Users" asp-action="Show" asp-route-id="@user.Id" style="text-decoration:none; color:inherit;">
                            <img src="@user.ProfilePhoto" alt="Profile Image" class="profile-img">
                            <div class="card-body">
                                <p><strong>@user.FirstName @user.LastName </strong></p>
                                @if (!user.PrivateProfile)
                                {
                                    <p>Email: @user.Email</p>
                                }
                                else
                                {
                                    <p>@user.ProfileDescription</p>
                                }

                                @if (User.IsInRole("Admin"))
                                {
                                    <a asp-controller="Users" asp-action="Edit" asp-route-id="@user.Id" class="btn btn-sm btn-success">Edit User</a>
                                }
                            </div>
                        </a>
                    </div>


                </div>
            }
        </div>
    }
</div>